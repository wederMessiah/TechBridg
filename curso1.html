<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso: Desenvolvimento Web</title>
    <link rel="stylesheet" href="curso1.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <img src="logoWan.jpg" alt="Logo do site" style="height: 80px" />
            </div>
            <ul class="nav-links">
                <li><a href="index.html">InÃ­cio</a></li>
                <li><a href="Perfil.html">Perfil</a></li>
                <li><a href="cursos.html">Cursos</a></li>
            </ul>
            <div class="user-info">
                <img src="usuario.png" alt="Foto do UsuÃ¡rio" class="foto-perfil-navbar">
                <span class="user-nome">OlÃ¡, Nome do UsuÃ¡rio</span>
            </div>
            <button class="btn-sair">Sair</button>
        </nav>
    </header>
    <main>
        <div class="curso-container">
            <aside class="modulos">
                <button class="btn-voltar" onclick="window.location.href='cursos.html'">&larr; Voltar para cursos</button>
                <h3>MÃ³dulos e Aulas</h3>
                <ul>
                    <!-- MÃ³dulo 1 -->
                    <li class="concluido">âœ” MÃ³dulo 1: IntroduÃ§Ã£o ao Desenvolvimento Web</li>
                    <li><button class="btn-assistir" onclick="carregarVideo('videos/html_basico.mp4', 'Aula 1: HTML BÃ¡sico')">â–¶ Aula 1: HTML BÃ¡sico</button></li>
                    <li><button class="btn-assistir" onclick="carregarVideo('videos/css_basico.mp4', 'Aula 2: CSS BÃ¡sico')">â–¶ Aula 2: CSS BÃ¡sico</button></li>
                    <li class="bloqueado"><button class="btn-avaliacao" disabled>ðŸ”’ AvaliaÃ§Ã£o do MÃ³dulo 1</button></li>

                    <!-- MÃ³dulo 2 -->
                    <li class="bloqueado">ðŸ”’ MÃ³dulo 2: JavaScript para Iniciantes</li>
                    <li class="bloqueado"><button class="btn-assistir" disabled onclick="carregarVideo('videos/js_basico.mp4', 'Aula 1: IntroduÃ§Ã£o ao JavaScript')">ðŸ”’ Aula 1: IntroduÃ§Ã£o ao JavaScript</button></li>
                    <li class="bloqueado"><button class="btn-assistir" disabled onclick="carregarVideo('videos/js_dom.mp4', 'Aula 2: ManipulaÃ§Ã£o do DOM')">ðŸ”’ Aula 2: ManipulaÃ§Ã£o do DOM</button></li>
                    <li class="bloqueado"><button class="btn-avaliacao" disabled>ðŸ”’ AvaliaÃ§Ã£o do MÃ³dulo 2</button></li>

                    <!-- MÃ³dulo 3 -->
                    <li class="bloqueado">ðŸ”’ MÃ³dulo 3: Desenvolvimento Frontend</li>
                    <li class="bloqueado"><button class="btn-assistir" disabled onclick="carregarVideo('videos/responsividade.mp4', 'Aula 1: Design Responsivo')">ðŸ”’ Aula 1: Design Responsivo</button></li>
                    <li class="bloqueado"><button class="btn-assistir" disabled onclick="carregarVideo('videos/framework_css.mp4', 'Aula 2: Frameworks CSS')">ðŸ”’ Aula 2: Frameworks CSS</button></li>
                    <li class="bloqueado"><button class="btn-avaliacao" disabled>ðŸ”’ AvaliaÃ§Ã£o do MÃ³dulo 3</button></li>

                    <!-- MÃ³dulo 4 -->
                    <li class="bloqueado">ðŸ”’ MÃ³dulo 4: Desenvolvimento Backend</li>
                    <li class="bloqueado"><button class="btn-assistir" disabled onclick="carregarVideo('videos/backend_intro.mp4', 'Aula 1: IntroduÃ§Ã£o ao Backend')">ðŸ”’ Aula 1: IntroduÃ§Ã£o ao Backend</button></li>
                    <li class="bloqueado"><button class="btn-assistir" disabled onclick="carregarVideo('videos/apis_rest.mp4', 'Aula 2: APIs REST')">ðŸ”’ Aula 2: APIs REST</button></li>
                    <li class="bloqueado"><button class="btn-avaliacao" disabled>ðŸ”’ AvaliaÃ§Ã£o do MÃ³dulo 4</button></li>

                    <!-- Certificado -->
                    <li class="bloqueado" id="certificado-modulo" style="display:none;">
                        <button class="btn-certificado">ðŸŽ“ Gerar Certificado</button>
                    </li>
                </ul>
            </aside>
            <section class="curso-conteudo">
                <h1 id="titulo-aula">Curso: Desenvolvimento Web</h1>
                <video id="video-aula" class="curso-video" controls poster="thumb-curso-web.jpg">
                    <source id="video-source" src="" type="video/mp4">
                    Seu navegador nÃ£o suporta vÃ­deo HTML5.
                </video>
                <div class="descricao-curso">
                    <p id="descricao-aula">Bem-vindo ao Curso de Desenvolvimento Web! Aqui vocÃª aprenderÃ¡ desde os fundamentos atÃ© conceitos avanÃ§ados para criar sites e aplicaÃ§Ãµes web.</p>
                </div>
                <div id="progresso-container">
                    <p id="progresso-curso">Progresso do curso: 0%</p>
                </div>
                <div id="certificado-modulo" style="display: none; text-align: center; margin-top: 20px;">
                    <a href="certificado.pdf" download class="btn-certificado">ðŸŽ“ Baixar Certificado</a>
                </div>
            </section>
        </div>
    </main>
    <script>
        // Total de aulas no curso
        const totalAulas = 8; // Atualize com o nÃºmero total de aulas no curso

        function carregarVideo(videoSrc, titulo) {
            const video = document.getElementById('video-aula');
            const videoSource = document.getElementById('video-source');
            const tituloAula = document.getElementById('titulo-aula');
            const descricaoAula = document.getElementById('descricao-aula');

            // Atualiza o tÃ­tulo e o vÃ­deo
            tituloAula.textContent = titulo;
            descricaoAula.textContent = `VocÃª estÃ¡ assistindo: ${titulo}`;
            videoSource.src = videoSrc;
            video.load(); // Recarrega o vÃ­deo
            video.play(); // Reproduz o vÃ­deo automaticamente

            // Adiciona evento para monitorar o tÃ©rmino do vÃ­deo
            video.onended = () => {
                atualizarProgresso(titulo);
            };
        }

        function atualizarProgresso(tituloAula) {
            // Recupera o progresso atual do localStorage
            let progresso = JSON.parse(localStorage.getItem('progressoCurso1')) || [];

            // Adiciona a aula ao progresso se ainda nÃ£o estiver concluÃ­da
            if (!progresso.includes(tituloAula)) {
                progresso.push(tituloAula);
            }

            // Calcula a porcentagem de conclusÃ£o
            const porcentagem = Math.round((progresso.length / totalAulas) * 100);

            // Salva o progresso atualizado no localStorage
            localStorage.setItem('progressoCurso1', JSON.stringify(progresso));
            localStorage.setItem('porcentagemCurso1', porcentagem);

            // Atualiza a exibiÃ§Ã£o do progresso na pÃ¡gina
            const progressoElemento = document.getElementById('progresso-curso');
            if (progressoElemento) {
                progressoElemento.textContent = `Progresso do curso: ${porcentagem}%`;
            }

            // Libera o certificado se o progresso for 100%
            if (porcentagem === 100) {
                const certificado = document.getElementById('certificado-modulo');
                if (certificado) {
                    certificado.style.display = 'block';
                }
            }
        }

        // Exibe o progresso salvo ao carregar a pÃ¡gina
        document.addEventListener('DOMContentLoaded', () => {
            const porcentagemCurso = localStorage.getItem('porcentagemCurso1') || 0;
            const progressoElemento = document.getElementById('progresso-curso');
            if (progressoElemento) {
                progressoElemento.textContent = `Progresso do curso: ${porcentagemCurso}%`;
            }

            // Verifica se o certificado deve ser exibido
            if (porcentagemCurso == 100) {
                const certificado = document.getElementById('certificado-modulo');
                if (certificado) {
                    certificado.style.display = 'block';
                }
            }
        });
    </script>
</body>
</html>
